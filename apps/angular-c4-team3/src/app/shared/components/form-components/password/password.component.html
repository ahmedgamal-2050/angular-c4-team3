<div class="flex flex-col gap-[0.375rem] w-full">
  @if (label()) {
    <app-label
      [text]="label()"
      [for]="id()"
      [disabled]="disabled()"
      [error]="!!errorMessages()?.length"
    />
  }

  <div class="relative">
    <input
      pInputText
      [type]="inputType()"
      [id]="id()"
      [name]="name()"
      [placeholder]="placeholder()"
      [disabled]="disabled()"
      [formControlName]="fieldControlName()"
      [class]="inputClass()"
    />

    <button
      type="button"
      (click)="toggleVisibility()"
      class="absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-600 dark:text-zinc-500 dark:hover:text-zinc-300 focus:outline-hidden"
      [attr.aria-label]="showPassword() ? 'Hide password' : 'Show password'"
    >
      <lucide-icon [name]="showPassword() ? EyeOff : Eye" class="size-5" />
    </button>
  </div>

  @if (errorMessages()?.length) {
    <p class="text-red-500 text-xs font-normal">{{ errorMessages()?.[0] }}</p>
  }
</div>
